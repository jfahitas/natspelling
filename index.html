<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nat's Spelling Showcase</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Nunito', sans-serif;
            background-color: #1a202c; /* Dark blue-gray background */
            color: #e2e8f0; /* Light gray text */
        }
        .game-card {
            background-color: #2d3748; /* Slightly lighter card background */
            border: 2px solid #4a5568;
        }
        .btn-primary {
            background-color: #4299e1; /* Blue */
            transition: background-color 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #3182ce;
        }
        .btn-secondary {
            background-color: #4a5568; /* Gray */
            transition: background-color 0.3s ease;
        }
        .btn-secondary:hover {
            background-color: #2d3748;
        }
        .btn-wild {
            background-color: #e53e3e; /* Red */
            transition: background-color 0.3s ease;
        }
        .btn-wild:hover {
            background-color: #c53030;
        }
        .input-field {
            background-color: #1a202c;
            border-color: #4a5568;
            color: #e2e8f0;
        }
        .input-field:focus {
            outline: none;
            border-color: #4299e1;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.5);
        }
        .status-correct {
            color: #48bb78; /* Green */
        }
        .status-incorrect {
            color: #f56565; /* Red */
        }
        .letter-box {
            width: 3rem; /* 48px */
            height: 4rem; /* 64px */
            font-size: 2.25rem; /* 36px */
            line-height: 2.5rem; /* 40px */
            font-weight: 700;
            text-transform: uppercase;
        }
        .letter-correct {
            border-color: #48bb78;
            color: #48bb78;
        }
        .letter-incorrect {
            border-color: #f56565;
            color: #f56565;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div id="game-container" class="w-full max-w-2xl mx-auto">

        <!-- Start Screen -->
        <div id="start-screen" class="text-center">
            <h1 class="text-5xl md:text-6xl font-bold text-yellow-400 mb-4">Nat's Spelling Showcase</h1>
            <p class="text-xl text-slate-300 mb-8">Select your difficulty!</p>
            <div class="flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4">
                 <button id="basic-difficulty-btn" class="btn-primary text-white font-bold py-3 px-8 rounded-full text-2xl shadow-lg w-full sm:w-auto">Basic</button>
                 <button id="wild-difficulty-btn" class="btn-wild text-white font-bold py-3 px-8 rounded-full text-2xl shadow-lg w-full sm:w-auto">Bruh this is wild</button>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="hidden">
            <div class="game-card rounded-2xl p-6 md:p-8 shadow-2xl relative">
                <h1 class="text-3xl font-bold text-center text-yellow-400 mb-2">Nat's Spelling Showcase</h1>
                <div id="difficulty-display" class="text-center text-slate-400 mb-4"></div>
                <!-- Top HUD -->
                <div class="flex justify-between items-center mb-6">
                    <div class="flex items-center space-x-4">
                        <button id="pause-btn" class="text-white hover:text-yellow-400 transition" title="Pause/Resume">
                            <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>
                            <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                        </button>
                        <button id="mute-btn" class="text-white hover:text-yellow-400 transition" title="Mute/Unmute Sounds">
                             <svg id="unmute-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>
                             <svg id="mute-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden"><line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg>
                        </button>
                        <button id="music-btn" class="text-white hover:text-yellow-400 transition" title="Toggle Music">
                            <svg id="music-on-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden"><path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle></svg>
                            <svg id="music-off-icon" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle></svg>
                        </button>
                        <div class="flex items-center space-x-2">
                             <button id="volume-down-btn" class="text-white hover:text-yellow-400 transition" title="Volume Down">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="15" y1="12" x2="21" y2="12"></line></svg>
                             </button>
                             <button id="volume-up-btn" class="text-white hover:text-yellow-400 transition" title="Volume Up">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="18" y1="9" x2="18" y2="15"></line><line x1="21" y1="12" x2="15" y2="12"></line></svg>
                             </button>
                        </div>
                    </div>
                    <div class="text-lg">Score: <span id="score" class="font-bold text-yellow-400">0</span></div>
                    <div class="text-lg">WPM: <span id="wpm" class="font-bold text-blue-400">0</span></div>
                    <div id="timer" class="text-2xl font-bold bg-slate-700 text-white rounded-full w-16 h-16 flex items-center justify-center border-4 border-slate-500">15</div>
                </div>

                <!-- Word Prompt Area -->
                <div class="text-center my-8">
                     <p class="text-slate-400 mb-4">Click the button to hear the word</p>
                    <button id="speak-word-btn" class="btn-secondary text-white font-bold py-4 px-8 rounded-full text-xl shadow-lg flex items-center justify-center mx-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>
                        Listen to the Word
                    </button>
                    <div id="feedback" class="mt-4 text-2xl font-bold h-8">&nbsp;</div>
                </div>
                
                <!-- Correct Word Display -->
                <div id="correct-word-display" class="hidden text-center text-4xl font-bold mb-4 tracking-widest"></div>

                <!-- Input Area -->
                <div class="relative">
                    <div id="letter-container" class="flex justify-center items-center gap-2 flex-wrap">
                        <!-- Letter boxes will be dynamically inserted here -->
                    </div>
                    <div id="word-length" class="absolute top-full right-0 text-sm text-slate-400 mt-2"></div>
                </div>
                
                <!-- Next Word Button -->
                <div class="text-center mt-6 flex justify-center items-center space-x-4">
                    <button id="skip-word-btn" class="hidden btn-secondary text-white font-bold py-3 px-8 rounded-full text-xl shadow-lg">Skip Word</button>
                    <button id="next-word-btn" class="hidden btn-primary text-white font-bold py-3 px-8 rounded-full text-xl shadow-lg">Next Word</button>
                </div>

                <!-- Pause Overlay -->
                <div id="pause-overlay" class="hidden absolute inset-0 bg-black bg-opacity-75 flex flex-col items-center justify-center rounded-2xl">
                    <h2 class="text-4xl font-bold text-yellow-400">Paused</h2>
                    <p class="text-slate-300 mt-2">Click the play button to resume.</p>
                </div>
            </div>
        </div>

        <!-- End Screen -->
        <div id="end-screen" class="hidden text-center">
            <h2 class="text-4xl font-bold mb-2">Game Over!</h2>
            <p class="text-2xl text-yellow-400 mb-6">Final Score: <span id="final-score" class="font-bold">0</span></p>
            <button id="play-again-btn" class="btn-primary text-white font-bold py-3 px-8 rounded-full text-2xl shadow-lg">Play Again</button>
        </div>
    </div>
    
    <!-- Audio element for MP3 background music -->
    <audio id="background-music" loop></audio>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DOM Elements ---
            const startScreen = document.getElementById('start-screen');
            const gameScreen = document.getElementById('game-screen');
            const endScreen = document.getElementById('end-screen');
            const basicDifficultyBtn = document.getElementById('basic-difficulty-btn');
            const wildDifficultyBtn = document.getElementById('wild-difficulty-btn');
            const playAgainBtn = document.getElementById('play-again-btn');
            const speakWordBtn = document.getElementById('speak-word-btn');
            const letterContainer = document.getElementById('letter-container');
            const correctWordDisplay = document.getElementById('correct-word-display');
            const scoreEl = document.getElementById('score');
            const wpmEl = document.getElementById('wpm');
            const timerEl = document.getElementById('timer');
            const feedbackEl = document.getElementById('feedback');
            const finalScoreEl = document.getElementById('final-score');
            const wordLengthEl = document.getElementById('word-length');
            const difficultyDisplay = document.getElementById('difficulty-display');
            const muteBtn = document.getElementById('mute-btn');
            const muteIcon = document.getElementById('mute-icon');
            const unmuteIcon = document.getElementById('unmute-icon');
            const pauseBtn = document.getElementById('pause-btn');
            const pauseIcon = document.getElementById('pause-icon');
            const playIcon = document.getElementById('play-icon');
            const pauseOverlay = document.getElementById('pause-overlay');
            const nextWordBtn = document.getElementById('next-word-btn');
            const skipWordBtn = document.getElementById('skip-word-btn');
            const musicBtn = document.getElementById('music-btn');
            const musicOnIcon = document.getElementById('music-on-icon');
            const musicOffIcon = document.getElementById('music-off-icon');
            const backgroundMusic = document.getElementById('background-music');
            const volumeDownBtn = document.getElementById('volume-down-btn');
            const volumeUpBtn = document.getElementById('volume-up-btn');

            // --- Game Configuration ---
            const WORD_TIME_LIMIT = 15; // seconds
            const ALL_WORDS = [
                // Basic Words (7-14 letters)
                "beautiful", "computer", "dragon", "elephant", "guitar", "holiday", "island", "jungle",
                "kitchen", "library", "mountain", "notebook", "pencil", "question", "rainbow", "science", 
                "together", "umbrella", "vacation", "wonderful", "xylophone", "yesterday", "amazing", "believe", 
                "challenge", "discover", "fantastic", "generous", "history", "imagine", "journey", "knowledge", 
                "language", "neighbor", "opportunity", "popular", "quality", "remember", "success", "technology", 
                "universe", "victory", "weather", "celebrate", "different", "education", "favorite", "government", "important",
                // Wild Words (15+ letters)
                "characteristically", "incomprehensibility", "interdisciplinary",
                "microspectrophotometry", "psychophysiological", "deinstitutionalization",
                "counterrevolutionaries", "compartmentalization", "incontrovertibility",
                "disproportionateness", "environmentalists", "extraterritoriality",
                "inconsequentialness", "overenthusiastically", "responsibilities", 
                "telecommunications", "internationalization", "misunderstanding"
            ];

            const BASIC_WORDS = ALL_WORDS.filter(w => w.length >= 7 && w.length < 15);
            const WILD_WORDS = ALL_WORDS.filter(w => w.length >= 15);
            let WORDS = [];

            // --- Game State ---
            let currentWord = '';
            let score = 0;
            let timer;
            let timeLeft = WORD_TIME_LIMIT;
            let typingStartTime;
            let usedWords = new Set();
            let currentInput = '';
            let isInputActive = false;
            let isRoundStarted = false; // New state to track if the timer/audio has started for the current word
            let isMuted = false;
            let isPaused = false;
            let isMusicOn = false;
            let musicVolume = 0.5; // Start volume at 50%

            // --- Sound Effects (Tone.js) ---
            const synth = new Tone.Synth().toDestination();

            const playCorrectSound = () => {
                if (isMuted) return;
                synth.triggerAttackRelease("C5", "8n", Tone.now());
                synth.triggerAttackRelease("E5", "8n", Tone.now() + 0.1);
                synth.triggerAttackRelease("G5", "8n", Tone.now() + 0.2);
            };

            const playIncorrectSound = () => {
                if (isMuted) return;
                synth.triggerAttackRelease("A2", "8n");
            };

            // --- Set MP3 Source ---
            backgroundMusic.src = "https://fi.zophar.net/soundfiles/gameboy-gbs/tetris/02%20A-Type%20Music%20%28version%201.1%29.mp3"; 
            backgroundMusic.volume = musicVolume;
            
            // --- Speech Synthesis ---
            const speak = (text) => {
                if (isMuted || typeof SpeechSynthesisUtterance === 'undefined') {
                    if (isMuted) return;
                    console.warn("Speech Synthesis not supported in this browser.");
                    return;
                }
                speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = 0.9;
                speechSynthesis.speak(utterance);
            };
            
            // --- Game Logic ---
            const getNewWord = () => {
                if(usedWords.size === WORDS.length) {
                    usedWords.clear();
                }
                let availableWords = WORDS.filter(word => !usedWords.has(word));
                if(availableWords.length === 0) {
                    availableWords = WORDS;
                }
                const randomIndex = Math.floor(Math.random() * availableWords.length);
                const newWord = availableWords[randomIndex];
                usedWords.add(newWord);
                return newWord;
            };

            const startTimer = () => {
                clearInterval(timer);
                timeLeft = WORD_TIME_LIMIT;
                timerEl.textContent = timeLeft;
                timerEl.classList.remove('status-incorrect');

                timer = setInterval(() => {
                    if (isPaused) return;
                    timeLeft--;
                    timerEl.textContent = timeLeft;

                    if (timeLeft <= 5) {
                        timerEl.classList.add('status-incorrect');
                    }
                    if (timeLeft <= 0) {
                        clearInterval(timer);
                        handleIncorrectAnswer("Time's up!");
                    }
                }, 1000);
            };
            
            const nextWord = () => {
                currentInput = '';
                letterContainer.innerHTML = '';
                correctWordDisplay.classList.add('hidden');
                isInputActive = false; // Input is disabled until player clicks "Listen"
                isRoundStarted = false; // Reset for the new word
                feedbackEl.textContent = '\u00A0';
                feedbackEl.classList.remove('status-correct', 'status-incorrect');
                nextWordBtn.classList.add('hidden');
                skipWordBtn.classList.add('hidden');
                wpmEl.textContent = 0;
                
                currentWord = getNewWord();
                wordLengthEl.textContent = `${currentWord.length} letters`;
                typingStartTime = null; 

                // Create letter boxes
                for (let i = 0; i < currentWord.length; i++) {
                    const letterBox = document.createElement('div');
                    letterBox.className = 'input-field letter-box flex items-center justify-center rounded-lg';
                    letterContainer.appendChild(letterBox);
                }
            };

            const calculateWPM = (word) => {
                const endTime = performance.now();
                const durationSeconds = (endTime - typingStartTime) / 1000;
                if (durationSeconds === 0) return 0;
                const durationMinutes = durationSeconds / 60;
                const wpm = Math.round((word.length / 5) / durationMinutes);
                return wpm;
            };

            const handleCorrectAnswer = () => {
                clearInterval(timer);
                playCorrectSound();
                score++;
                scoreEl.textContent = score;
                isInputActive = false;

                if (typingStartTime) {
                    wpmEl.textContent = calculateWPM(currentWord);
                }

                feedbackEl.textContent = 'Correct!';
                feedbackEl.classList.add('status-correct');

                correctWordDisplay.textContent = currentWord.toUpperCase();
                correctWordDisplay.classList.remove('hidden', 'status-incorrect');
                correctWordDisplay.classList.add('status-correct');
                
                nextWordBtn.classList.remove('hidden');
                skipWordBtn.classList.add('hidden');
                nextWordBtn.focus();
            };

            const handleIncorrectAnswer = (message = 'Try again!') => {
                clearInterval(timer);
                playIncorrectSound();
                isInputActive = false;
                
                feedbackEl.textContent = message === "Time's up!" ? "Time's up!" : 'Not quite!';
                feedbackEl.classList.add('status-incorrect');
                
                correctWordDisplay.textContent = currentWord.toUpperCase();
                correctWordDisplay.classList.remove('hidden', 'status-correct');
                correctWordDisplay.classList.add('status-incorrect');

                const letterBoxes = letterContainer.children; 
                for(let i = 0; i < currentWord.length; i++) {
                    if (letterBoxes[i]) {
                        // Display the correct letter
                        letterBoxes[i].textContent = currentWord[i].toUpperCase();
                        
                        // Explicitly set the class name to avoid conflicts
                        const baseClass = 'input-field letter-box flex items-center justify-center rounded-lg';
                        if (currentInput.length > i && currentInput[i] === currentWord[i]) {
                            letterBoxes[i].className = `${baseClass} letter-correct`;
                        } else {
                            letterBoxes[i].className = `${baseClass} letter-incorrect`;
                        }
                    }
                }

                nextWordBtn.classList.remove('hidden');
                skipWordBtn.classList.add('hidden');
                nextWordBtn.focus();
            };

            const checkAnswer = () => {
                if (currentInput === currentWord) {
                    handleCorrectAnswer();
                } else {
                    handleIncorrectAnswer();
                }
            };
            
            const startGame = () => {
                score = 0;
                wpmEl.textContent = 0;
                scoreEl.textContent = 0;
                usedWords.clear();
                isPaused = false;
                pauseIcon.classList.remove('hidden');
                playIcon.classList.add('hidden');
                pauseOverlay.classList.add('hidden');
                
                startScreen.classList.add('hidden');
                endScreen.classList.add('hidden');
                gameScreen.classList.remove('hidden');

                nextWord();
            };

            // --- Event Listeners ---
            basicDifficultyBtn.addEventListener('click', () => {
                WORDS = BASIC_WORDS;
                difficultyDisplay.textContent = 'Difficulty: Basic';
                Tone.start().catch(e => console.error("Tone.js failed to start:", e));
                startGame();
            });
            
            wildDifficultyBtn.addEventListener('click', () => {
                WORDS = WILD_WORDS;
                difficultyDisplay.textContent = 'Difficulty: Bruh this is wild';
                Tone.start().catch(e => console.error("Tone.js failed to start:", e));
                startGame();
            });

            playAgainBtn.addEventListener('click', () => {
                endScreen.classList.add('hidden');
                startScreen.classList.remove('hidden');
            });

            speakWordBtn.addEventListener('click', () => {
                if (currentWord && !isPaused) {
                    // If the round hasn't started, this click will start it.
                    if (!isRoundStarted) {
                        isRoundStarted = true;
                        isInputActive = true;
                        // A minimal delay to ensure the event loop is clear before speaking.
                        setTimeout(() => {
                           speak(currentWord);
                           startTimer();
                           skipWordBtn.classList.remove('hidden');
                        }, 100);
                    } else {
                        // If round is already active, just repeat the word.
                        speak(currentWord);
                    }
                }
            });

            const handleKeyPress = (e) => {
                if (!isInputActive || isPaused) return;

                const key = e.key;

                // Handle letter input
                if (key.match(/^[a-z]$/i) && currentInput.length < currentWord.length) {
                    if (!typingStartTime) typingStartTime = performance.now();
                    
                    const letterBoxes = letterContainer.children; 
                    const box = letterBoxes[currentInput.length];
                    if(box) {
                        box.textContent = key;
                    
                        const baseClass = 'input-field letter-box flex items-center justify-center rounded-lg';
                        if (key.toLowerCase() === currentWord[currentInput.length]) {
                           box.className = `${baseClass} letter-correct`;
                        } else {
                           box.className = `${baseClass} letter-incorrect`;
                        }
                    }
                    currentInput += key.toLowerCase();
                }
                // Handle backspace
                else if (key === 'Backspace' && currentInput.length > 0) {
                    currentInput = currentInput.slice(0, -1);
                    const letterBoxes = letterContainer.children;
                    const box = letterBoxes[currentInput.length];
                    if(box) {
                        box.textContent = '';
                        box.className = 'input-field letter-box flex items-center justify-center rounded-lg';
                    }
                }
                // Handle submit
                else if (key === 'Enter' && currentInput.length === currentWord.length) {
                    checkAnswer();
                }
            };
            
            document.addEventListener('keydown', handleKeyPress);

            skipWordBtn.addEventListener('click', () => {
                if(isInputActive && !isPaused) {
                    handleIncorrectAnswer('Skipped!');
                }
            });
            
            muteBtn.addEventListener('click', () => {
                isMuted = !isMuted;
                muteIcon.classList.toggle('hidden', !isMuted);
                unmuteIcon.classList.toggle('hidden', isMuted);
                backgroundMusic.muted = isMuted;
                if(isMuted) speechSynthesis.cancel();
            });
            
            musicBtn.addEventListener('click', () => {
                isMusicOn = !isMusicOn;
                musicOnIcon.classList.toggle('hidden', !isMusicOn);
                musicOffIcon.classList.toggle('hidden', isMusicOn);

                if (isMusicOn && !isPaused) {
                    backgroundMusic.play().catch(e => console.error("Audio playback failed:", e));
                } else {
                    backgroundMusic.pause();
                }
            });

            pauseBtn.addEventListener('click', () => {
                isPaused = !isPaused;
                pauseIcon.classList.toggle('hidden', isPaused);
                playIcon.classList.toggle('hidden', !isPaused);
                pauseOverlay.classList.toggle('hidden', !isPaused);

                if (isPaused) {
                    isInputActive = false;
                    if(isMusicOn) backgroundMusic.pause();
                    clearInterval(timer); // Stop timer interval when paused
                } else {
                    if (isRoundStarted) {
                         isInputActive = true;
                         startTimer(); // Resume timer
                    }
                    if(isMusicOn) backgroundMusic.play().catch(e => console.error("Audio playback failed:", e));
                }
            });

            nextWordBtn.addEventListener('click', nextWord);

            volumeUpBtn.addEventListener('click', () => {
                if (musicVolume < 1.0) {
                    musicVolume = Math.min(1.0, musicVolume + 0.1);
                    backgroundMusic.volume = musicVolume;
                }
            });

            volumeDownBtn.addEventListener('click', () => {
                if (musicVolume > 0.0) {
                    musicVolume = Math.max(0.0, Math.round((musicVolume - 0.1) * 10) / 10);
                    backgroundMusic.volume = musicVolume;
                }
            });
        });
    </script>
</body>
</html>




